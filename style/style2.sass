@import 'viewports.scss'
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap')

// Design tokens
$font-main: 'Poppins', sans-serif
$color-bg-start: #EBEBEB
$color-bg-end: rgba(186, 186, 186, 0)
$color-text-main: #171717
$color-text-muted: rgba(80, 80, 80, 0.9)
$color-border-glass: rgba(255, 255, 255, 0.8)
$color-card-bg: rgba(255, 255, 255, 0.42)
$color-chip-bg: rgba(255, 255, 255, 0.9)

$radius-xl: 24px
$radius-lg: 18px
$radius-md: 12px
$radius-pill: 999px

$shadow-soft: 0 18px 45px rgba(15, 15, 15, 0.12)
$shadow-subtle: 0 10px 26px rgba(15, 15, 15, 0.08)

// Mixins
@mixin bento-card($radius: $radius-lg)
  background: $color-card-bg
  border-radius: $radius
  border: 1px solid $color-border-glass
  backdrop-filter: blur(30px)
  box-shadow: $shadow-soft

// Global reset
*, *::before, *::after
  box-sizing: border-box

html
  height: 100%
  scroll-behavior: smooth

body
  min-height: 100vh
  margin: 0
  padding: 20px 14px 40px
  display: grid
  grid-template-columns: minmax(0, 1fr)
  grid-auto-rows: minmax(120px, auto)
  gap: 16px
  justify-items: stretch
  align-items: start
  background: radial-gradient(circle at top left, #ffffff 0, $color-bg-start 36%, $color-bg-end 100%)
  font-family: $font-main
  color: $color-text-main

  @include media(">=tablet")
    padding: 32px 24px 56px
    grid-template-columns: repeat(8, minmax(0, 1fr))
    grid-auto-rows: minmax(140px, auto)
    gap: 20px

  @include media(">=desktop")
    padding: 40px 32px 72px
    grid-template-columns: repeat(12, minmax(0, 1fr))
    max-width: 1320px
    margin: 0 auto

// Shared utilities
.status-message
  font-size: 12px
  color: $color-text-muted

.chip
  display: inline-flex
  align-items: center
  padding: 6px 12px
  background: $color-chip-bg
  border-radius: $radius-pill
  border: 1px solid rgba(23, 23, 23, 0.05)
  font-size: 12px
  font-weight: 500

// HEADER CLUSTER (top-left bento)
.header
  grid-column: 1 / -1
  @include bento-card($radius-xl)
  padding: 18px 16px 16px
  display: grid
  grid-template-columns: minmax(0, 1fr)
  grid-auto-rows: auto
  row-gap: 10px

  @include media(">=tablet")
    padding: 18px 20px
    // align header width with .current-weather on tablet
    grid-column: 1 / span 5
    grid-template-columns: minmax(0, 1.6fr) minmax(0, 1.4fr)
    column-gap: 20px
    align-items: center

  @include media(">=desktop")
    // align header width with .current-weather on desktop
    grid-column: 1 / span 7

.title-container
  display: flex
  flex-direction: column
  gap: 4px

.title
  margin: 0
  font-weight: 700
  font-size: 22px
  letter-spacing: 0.02em

  @include media(">=tablet")
    font-size: 26px

  @include media(">=desktop")
    font-size: 30px

#status
  margin: 0
  font-size: 11px
  color: $color-text-muted

.location-controls
  margin-top: 6px
  display: flex
  flex-wrap: wrap
  gap: 8px
  align-items: center

  label
    font-size: 12px
    color: $color-text-muted

  button,
  select
    padding: 8px 13px
    border-radius: 999px
    border: 1px solid rgba(0, 0, 0, 0.08)
    background: $color-chip-bg
    font-family: $font-main
    font-size: 13px
    color: $color-text-main
    outline: none

  button
    cursor: pointer
    font-weight: 500
    transition: transform 120ms ease-out, box-shadow 120ms ease-out, background 120ms ease-out

    &:hover
      transform: translateY(-1px)
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15)
      background: white

    &:active
      transform: translateY(0)
      box-shadow: none

  select
    appearance: none

  @include media("<=phone")
    flex-direction: column
    align-items: stretch

    button,
    select
      width: 100%

// CURRENT WEATHER BENTO CLUSTER
.current-weather
  @include bento-card($radius-xl)
  grid-column: 1 / -1
  padding: 14px 14px 16px
  display: grid
  grid-template-columns: minmax(0, 1fr)
  // each string is a row (1 column grid)
  grid-template-areas: "label" "main" "temp" "stats" "sun"
  row-gap: 10px

  @include media(">=tablet")
    grid-column: 1 / span 5
    padding: 16px 16px 18px
    grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.1fr)
    // 2 columns, 4 rows
    grid-template-areas: "label label" "main temp" "stats stats" "sun sun"
    row-gap: 14px
    column-gap: 12px

  @include media(">=desktop")
    grid-column: 1 / span 7
    padding: 18px 20px 20px
    column-gap: 16px

.current-weather #type-p
  grid-area: label
  margin: 0
  font-size: 10px
  font-weight: 600
  text-transform: uppercase
  letter-spacing: 0.14em
  color: $color-text-muted

.current-weather-main
  grid-area: main
  @include bento-card($radius-lg)
  display: grid
  grid-template-columns: auto minmax(0, 1fr)
  column-gap: 10px
  align-items: center
  padding: 14px

  @include media(">=tablet")
    padding: 16px

.weather-icon
  img
    display: block
    width: 80px
    max-width: 26vw

    @include media(">=tablet")
      width: 96px

.weather-desc-container
  display: flex
  flex-direction: column
  gap: 4px

#current-weather
  margin: 0
  font-size: 26px
  font-weight: 700

  @include media(">=tablet")
    font-size: 30px

#description
  margin: 0
  font-size: 13px
  color: $color-text-muted

// Temperature tile
.temp-container
  grid-area: temp
  @include bento-card($radius-lg)
  padding: 12px 10px
  text-align: center

  @include media(">=tablet")
    align-self: stretch
    display: flex
    flex-direction: column
    justify-content: center

#temp
  margin: 0
  font-size: 42px
  font-weight: 700

  @include media(">=tablet")
    font-size: 46px

#feels-like
  margin: 4px 0 0
  font-size: 12px
  color: $color-text-muted

// Stats tile
.stats-container
  grid-area: stats
  @include bento-card($radius-lg)
  padding: 12px 14px
  display: grid
  grid-template-columns: auto minmax(0, 1.4fr) minmax(0, 1.6fr)
  column-gap: 10px
  row-gap: 8px
  font-size: 13px

.icon-container
  display: flex
  flex-direction: column
  justify-content: center
  align-items: center
  gap: 12px

  img
    width: 22px
    height: 22px

.stats-desc
  display: flex
  flex-direction: column
  justify-content: center
  gap: 12px
  color: $color-text-muted

.wind,
.humidity,
.pressure
  display: flex
  flex-wrap: wrap
  align-items: baseline
  gap: 3px

#wind-deg,
#wind-speed,
#humidity,
#pressure
  margin: 0
  font-weight: 600

#wind-deg-symb,
#wind-spd-symb,
#hum-percentage,
#pressure-symb
  margin: 0
  font-size: 11px
  color: $color-text-muted

// Sunrise / sunset tile
.sunr-suns-container
  grid-area: sun
  @include bento-card($radius-md)
  padding: 10px 14px
  display: grid
  grid-template-columns: auto auto minmax(0, 1fr) auto auto minmax(0, 1fr)
  column-gap: 6px
  align-items: center
  font-size: 12px

  img
    width: 18px
    height: 18px

#sunrise-text,
#sunset-text
  font-weight: 500
  color: $color-text-muted

#sunrise,
#sunset
  font-weight: 700

// FORECAST BENTO COLUMN
.daily-forecast
  grid-column: 1 / -1
  @include bento-card($radius-xl)
  padding: 14px 14px 16px
  display: grid
  grid-template-columns: minmax(0, 1fr)
  // 1 column, 6 rows
  grid-template-areas: "label" "status" "d1" "d2" "d3" "d4"
  row-gap: 10px

  @include media(">=tablet")
    grid-column: span 3
    padding: 16px 16px 18px
    grid-template-columns: repeat(2, minmax(0, 1fr))
    // 2 columns, label+status rows then 2x2 forecast grid
    grid-template-areas: "label label" "status status" "d1 d2" "d3 d4"
    column-gap: 10px

  @include media(">=desktop")
    grid-column: span 5
    padding: 18px 18px 20px
    column-gap: 14px

.daily-forecast #type-p
  grid-area: label
  margin: 0
  font-size: 10px
  font-weight: 600
  text-transform: uppercase
  letter-spacing: 0.14em
  color: $color-text-muted

#forecast-status
  grid-area: status
  margin: 0
  font-size: 11px
  color: $color-text-muted

#forecast-tommorow
  grid-area: d1

#forecast-d2
  grid-area: d2

#forecast-d3
  grid-area: d3

#forecast-d4
  grid-area: d4

.forecast-block-prop
  @include bento-card($radius-md)
  padding: 10px 12px
  display: flex
  align-items: center
  justify-content: space-between
  gap: 10px

.date-prop
  margin: 0
  font-size: 13px
  color: $color-text-muted

#icon-prop,
.forecast-icon,
.forecast-icon-d2,
.forecast-icon-d3,
.forecast-icon-d4,
.forecast-icon-d5
  flex: 0 0 auto

  img
    width: 34px
    height: 34px

.main-prop
  margin: 0
  font-size: 20px
  font-weight: 700

// FOOTER TILE
.footer
  grid-column: 1 / -1
  padding: 8px 4px 0
  font-size: 10px
  line-height: 1.5
  text-align: center
  color: $color-text-muted

  img
    width: 14px
    height: 14px
    vertical-align: middle

  @include media(">=tablet")
    grid-column: 1 / -1
    padding-top: 4px

  @include media(">=desktop")
    grid-column: 1 / -1
